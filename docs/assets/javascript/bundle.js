"use strict";var WINDOW_SCROLL_TOP,WORKS_OPEN=!1,WRITER_OPEN=!1,forEach=function(t,e,o){for(var n=0;n<t.length;n++)e.call(o,n,t[n])};setTimeout(function(){document.getElementsByClassName("preloader")[0].classList.add("preloader--loaded")},1500);var thibaultImgMain=document.getElementById("thibault-img-main");function myLoop(t,e,o){setTimeout(function(){e.call(o,t.countdown,t.duration,t.countup),t.countup++,0<=--t.countdown&&myLoop(t,e,o)},t.duration)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}myLoop({countdown:9,duration:150,countup:0},function(t,e,o){thibaultImgMain.setAttribute("src","assets/img/thibault-jan-beyer_"+t+".jpg")}),function(){setTimeout(function(){myLoop({countdown:9,duration:150,countup:0},function(t,e,o){thibaultImgMain.setAttribute("src","assets/img/thibault-jan-beyer_"+o+".jpg")})},2e3);var t=!0,e=!1,o=document.getElementById("welcome"),n=o.offsetHeight/4;o.offsetHeight;setInterval(function(){!1===e&&n<=WINDOW_SCROLL_TOP&&(myLoop({countdown:9,duration:150,countup:0},function(t,e,o){thibaultImgMain.setAttribute("src","assets/img/thibault-jan-beyer_"+t+".jpg")}),t=!(e=!0)),!1===t&&WINDOW_SCROLL_TOP<n&&(myLoop({countdown:9,duration:150,countup:0},function(t,e,o){thibaultImgMain.setAttribute("src","assets/img/thibault-jan-beyer_"+o+".jpg")}),e=!(t=!0))},850)}(),function(){for(var t=document.querySelectorAll("img[data-src]"),n=document.getElementById("welcome"),e=0;e<3;e++)t[e].setAttribute("src",t[e].getAttribute("data-src")),t[e].onload=i(t[e]);function i(e){setTimeout(function(){var t;!(t=e).complete||void 0!==t.naturalWidth&&0===t.naturalWidth?i(e):e.classList.add("loaded")},2e3)}setInterval(function(){!0===WORKS_OPEN&&forEach(t,function(t,e){var o=e.getBoundingClientRect();0<=o.bottom&&o.top<n.offsetHeight&&!0===e.hasAttribute("data-src")&&(e.setAttribute("src",e.getAttribute("data-src")),e.onload=i(e))})},1e3)}(),function(t){function c(t){return a(["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(","),t).filter(function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)})}function a(t,e){return Array.prototype.slice.call((e||document).querySelectorAll(t))}function l(t){var e=c(t);e.length&&e[0].focus()}var u,e=function(i,t){var e="data-a11y-dialog",r=this;function o(t){r.shown&&!i.contains(t.target)&&l(i)}function n(){r.shown=!0,i.removeAttribute("aria-hidden"),t.setAttribute("aria-hidden","true"),u=document.activeElement,l(i),document.body.addEventListener("focus",o,!0),history.pushState?history.pushState(null,null,"#moreWorks"):window.location.hash="#moreWorks",thibaultImgMain.classList.add("more-works--hider"),t.classList.add("more-works--pusher"),i.classList.remove("more-works--start"),document.body.classList.add("more-works--locker"),document.getElementsByTagName("html")[0].classList.add("more-works--locker"),WORKS_OPEN=!0}function s(){i.classList.add("more-works--start"),t.classList.remove("more-works--pusher"),setTimeout(function(){r.shown=!1,i.setAttribute("aria-hidden","true"),t.removeAttribute("aria-hidden"),u&&u.focus(),document.body.removeEventListener("focus",o,!0),thibaultImgMain.classList.remove("more-works--hider"),document.body.classList.remove("more-works--locker"),document.getElementsByTagName("html")[0].classList.remove("more-works--locker"),WORKS_OPEN=!1,history.pushState&&history.pushState(null,null,"#")},1e3)}t=t||document.querySelector("#main"),this.shown=!1,this.show=n,this.hide=s,a("["+e+'-show="'+i.id+'"]').forEach(function(t){t.addEventListener("click",n)}),a("["+e+"-hide]",i).concat(a("["+e+'-hide="'+i.id+'"]')).forEach(function(t){t.addEventListener("click",s)}),document.addEventListener("keydown",function(t){var e,o,n;r.shown&&27===t.which&&(t.preventDefault(),s()),r.shown&&9===t.which&&(e=t,o=c(i),n=o.indexOf(document.activeElement),e.shiftKey&&0===n?(o[o.length-1].focus(),e.preventDefault()):e.shiftKey||n!==o.length-1||(o[0].focus(),e.preventDefault()))}),setInterval(function(){var t=window.location.hash;0<=t.indexOf("moreWorks")&&!WORKS_OPEN?n():t.indexOf("moreWorks")<0&&WORKS_OPEN&&s()},2e3)};"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:"function"==typeof define&&define.amd?define("A11yDialog",[],function(){return e}):"object"===_typeof(t)&&(t.A11yDialog=e)}(window);var dialogEl=document.getElementById("more-works"),dialog=new A11yDialog(dialogEl);!function(){var t=document.getElementsByClassName("scroll"),i=document.getElementById("welcome"),r=[],s=[],e=!1;window.onscroll=function(){e=!0},setInterval(function(){e&&(e=!1,WINDOW_SCROLL_TOP=void 0!==window.scrollY?window.scrollY:(document.documentElement||document.body.parentNode||document.body).scrollTop,forEach(t,function(t,e){var o=e.getAttribute("data-scroll--speed")||100,n=e.getBoundingClientRect();0<=n.bottom&&n.top<i.offsetHeight?(r[t]||(r[t]=WINDOW_SCROLL_TOP),e.classList.contains("scroll--permanent")?(s[t]=(WINDOW_SCROLL_TOP-r[t])/o*-1,e.style.transform="translate3D(0, "+s[t]+"%, 0)"):e.classList.contains("scroll--writer")&&!e.classList.contains("scroll--writer-start")&&(e.classList.add("scroll--writer-start"),WRITER_OPEN=!0)):e.classList.contains("scroll--writer")&&e.classList.contains("scroll--writer-start")&&(e.classList.remove("scroll--writer-start"),WRITER_OPEN=!1)}))},15)}();var smoothScroll=function(t,e){var o,n=window.pageYOffset,i=t.offsetTop,r=(i-n)/(e/16);o=0<=r?function(){var t=window.pageYOffset;(i-r<=t||window.innerHeight+t>=document.body.offsetHeight)&&clearInterval(s)}:function(){window.pageYOffset<=(i||0)&&clearInterval(s)};var s=setInterval(function(){window.scrollBy(0,r),o()},16)},scrollToggle=document.querySelectorAll('a[href^="#"]');[].forEach.call(scrollToggle,function(n){n.addEventListener("click",function(t){t.preventDefault();var e=n.getAttribute("href"),o=document.querySelector(e);o&&smoothScroll(o,500)},!1)}),function(){var t=document.querySelectorAll(".toggle--button"),e=document.querySelectorAll("toggle--close");[].forEach.call(e,function(t){t.classList.add("hidden")}),[].forEach.call(t,function(t){t.addEventListener("click",function(){var t,e;(e=function t(e,o){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:5;{if(e.classList.contains(o))return e;if(0<--n)return t(e.parentNode,o,n);console.log("ERROR: function getParentScope() : Sorry couldnâ€™t find any parent with "+o+" within the seleceted range.")}}(t=this,"toggle--scope").querySelector(":scope > .toggle")).classList.contains("toggle--close")?(e.classList.remove("hidden"),t.classList.add("toggle--button-close"),e.classList.remove("toggle--close"),e.classList.add("toggle--open")):e.classList.contains("toggle--open")?(e.classList.remove("toggle--open"),e.classList.add("toggle--close"),t.classList.remove("toggle--button-close"),setTimeout(function(){e.classList.add("hidden")},1e3)):console.log("ERROR: function toggle() : Sorry "+e+" has neighter toggle--close nor toggle--open class.")},!1)})}(),function(){var i=[!1,!1,!1,!1],r=e(document.getElementsByClassName("writer-question")),s=e(document.getElementsByClassName("writer-answer")),t=document.getElementsByClassName("writer-question--hidden"),c=document.getElementsByClassName("writer-answer--hidden");function e(t){for(var e=[],o=0;o<t.length;o++){var n={};n.el=t[o],n.text=t[o].textContent,n.char=n.text.split(""),e[o]=n,t[o].textContent=""}return e}function n(n){WRITER_OPEN=!1,i[n-1]=!0,1===n?(document.getElementsByClassName("concact-pic--big")[0].classList.remove("concact-pic--big"),setTimeout(function(){myLoop({countdown:r[0].char.length-1,duration:100,countup:0},function(t,e,o){r[0].el.innerHTML+=r[0].char[o],0===t&&myLoop({countdown:r[1].char.length-1,duration:65,countup:0},function(t,e,o){r[1].el.innerHTML+=r[1].char[o],0===t&&(c[0].classList.remove("writer-answer--hidden"),myLoop({countdown:s[0].char.length-1,duration:65,countup:0},function(t,e,o){s[0].el.innerHTML+=s[0].char[o]}))})})},2e3)):3===n?(t[0].classList.remove("writer-question--hidden"),myLoop({countdown:r[n].char.length-1,duration:65,countup:0},function(t,e,o){r[n].el.innerHTML+=r[n].char[o]})):(t[0].classList.remove("writer-question--hidden"),c[0].classList.remove("writer-answer--hidden"),myLoop({countdown:r[n].char.length-1,duration:65,countup:0},function(t,e,o){r[n].el.innerHTML+=r[n].char[o],0===t&&myLoop({countdown:s[n-1].char.length-1,duration:65,countup:0},function(t,e,o){s[n-1].el.innerHTML+=s[n-1].char[o]})}))}setInterval(function(){WRITER_OPEN&&!1===i[0]&&n(1)},1e3);var o=document.getElementsByClassName("writer--next"),a=document.getElementById("myName"),l=document.getElementById("liveName");a.onkeyup=function(t){l.textContent=a.value,13===t.keyCode&&!1===i[1]&&(t.preventDefault(),n(2))},o[0].addEventListener("click",function(t){t.preventDefault(),!1===i[1]&&(l.textContent=a.value,n(2))});var u=document.getElementById("myMessage");u.onkeyup=function(t){u.style.height=u.scrollHeight+"px"},o[1].addEventListener("click",function(t){var e,o;t.preventDefault(),!1===i[2]&&n(3),e=encodeURI("Hi Thibault, my name is ")+encodeURI(a.value),o=encodeURI("I just wanted to say... ")+"%0A%0A"+encodeURI(u.value),window.location.href="mailto:hi@thibaultjanbeyer.com?Subject="+e+"&Body="+o})}();